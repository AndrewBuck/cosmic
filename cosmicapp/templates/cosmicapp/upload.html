{% extends "cosmicapp/base.html" %}

{% block extratitle %} - Upload files {{foruser.username}} {% endblock %}

{% block mainbody %}
<h2>Upload</h2>

<p>This page is for uploading images and observing notes to be shared on Cosmic.  <i>Please only upload images of the sky
and calibration images.</i>  For uploading pictures of yourself or your equipment you can do that on your <a
href="/user/{{user}}">user
page</a>.</p>

<p>Please keep in mind that Cosmic is NOT a website for sharing arbitrary files, ONLY ASTRONOMICAL IMAGES,
CALIBRATION IMAGES, AND OBSERVER NOTES WILL BE KEPT OTHER FILES WILL BE DELETED.</p>

<p>The following image file types are supported:

<b>
{% for filetype in supportedImageTypes %}
    &nbsp;&nbsp;&nbsp;{{filetype}}
{% endfor %}
</b></p>

<p>Once your images have been successfully uploaded they will be added to the processing queue where they will be plate
solved, source extracted, and so forth.</p>

<p>
You can upload multiple files at once, and if you do a record is kept of all the files
that were uploaded at the same time.  We recommend using this to upload files grouped by
the location you took them from, or if you sometimes use different equipment you should
upload them grouped by that, etc.  This will make it easy to add this information later on
by adding the appropriate tags to all the files at once.  Do not bother manually grouping
them by time, since the file headers almost always include this anyway.
</p>

<form method="post" enctype="multipart/form-data">
{% csrf_token %}
<input type="file" name="myfiles" multiple=""><br><br>
<button type="submit" class=button>Upload</button>
</form>

{% if upload_successful %}
<p>File upload successfull.</p>

    <table border="2px">
    <tr> <th>File name</th> <th>Size (bytes)</th> <th>sha256sum</th> </tr>
    {% for record in records %}
        <tr> <td>{{record.originalFileName}}</td> <td>{{record.uploadSize|filesizeformat}}</td> <td>{{record.fileSha256}}</td> </tr>
    {% endfor %}
    </table>

{% endif %}

{% endblock %}
