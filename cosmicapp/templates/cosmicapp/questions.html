{% extends "cosmicapp/base.html" %}
{% load static %}

{% block extratitle %} - Questions {% endblock %}

{% block mainbody %}
<h2>Questions</h2>

<p>
Below is a graph showing a "flow chart" of the questions that cosmic has in its database
that will be asked to users about images and observing notes.  The image is automatically
generated by the website from the contents of the questions tables in the database.  When
new questions are added to the database to be asked to users, this chart will
automatically updated as well.
</p>

<p>
There have been a total of {{numAnswers}} answers given to {{questionGroups.count}} questions.
</p>

<p>
<table>
<tr>
<td>
<table cellpadding=5px border=2px style="border-collapse: collapse; margin: 1em;">
    <tr><th>Question ID</th><th>Num Answers</th></tr>

    {% for questionGroup in questionGroups %}
        <tr><td>{{questionGroup.question}}</td><td>{{questionGroup.count}}</td></tr>
    {% endfor %}
</table>
</td>

<td>
<table cellpadding=5px border=2px style="border-collapse: collapse; margin: 1em;">
    <tr><th>Answer Key=value</th><th>Count</th></tr>

    {% for answerKV in answerKVs %}
        <tr><td><a href="/image/gallery/?queryParams=questionAnswer={{answerKV.key}}={{answerKV.value}}">{{answerKV.key}}={{answerKV.value}}</a></td><td>{{answerKV.count}}</td></tr>
    {% endfor %}
</table>
</td>
</tr>
</table>
</p>

{% comment %}
TODO: Add the results of some DB queries here to show how many times each question has been answered,
users who have answered the most questions, etc.
{% endcomment %}

<p><a href="/static/cosmicapp/QuestionGraph.svg"><img src="/static/cosmicapp/QuestionGraph.svg" width=800 height=600></a></p>

{% endblock %}

